<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link rel="stylesheet" type="text/css" href="maintpl.css" />
<title>Built-in meta data for SFML -- Simple and Fast Multimedia Library in C++ cpgf library</title>
</head>
<body><div style="width:900px">





<a name="top"></a>






<h1>Built-in meta data for SFML -- Simple and Fast Multimedia Library in C++ cpgf library</h1>

<p><a name="linkid1"></a></p>
<p>
<strong>Overview</strong></p>
The meta data for SFML is a collection of meta data to represent for SFML library.<br />
Now the supported SFML version is 1.6.<br />
<br />
With the meta data, it's a piece of cake to use SFML in Lua or Javascript language.<br />
<br />

<table cols="2" style="width:100%">
<tr>
	<td style="width:50%">
	<img src="/images/cpgf_sfml_js.gif" alt="Javascript SFML demo" style="display:inline" />
	</td>
</tr>
<tr>
	<td style="font-size:80%">Screenshot of the demo using SFML in Google V8 Javascript script </td>
</tr>
</table>
<br />

Can't wait to experiment the SFML binding? Below is a piece of real Javascript code snippet that using SFML!<br />
To see more code, including Lua code, see samples/sfml/ in the library package.<br />
<br />

<pre>    // Create the window of the application
    var App = new sfml.RenderWindow(new sfml.VideoMode(800, 600, 32), &quot;SFML Pong -- cpgf SFML binding demo -- V8 Javascript&quot;);

    // Load the sounds used in the game
    var BallSoundBuffer = new sfml.SoundBuffer();
    
    if(!BallSoundBuffer.LoadFromFile(&quot;datas/pong/ball.wav&quot;))
    {
    	return sfml.EXIT_FAILURE;
    }
    var BallSound = new sfml.Sound(BallSoundBuffer);

    // Load the images used in the game
    var BackgroundImage = new sfml.Image();
    var LeftPaddleImage = new sfml.Image;
    var RightPaddleImage = new sfml.Image();
    var BallImage = new sfml.Image();
    if (!BackgroundImage.LoadFromFile(&quot;datas/pong/background.jpg&quot;)    ||
    	!LeftPaddleImage.LoadFromFile(&quot;datas/pong/paddle_left.png&quot;)   ||
    	!RightPaddleImage.LoadFromFile(&quot;datas/pong/paddle_right.png&quot;) ||
    	!BallImage.LoadFromFile(&quot;datas/pong/ball.png&quot;))
    {
    	return sfml.EXIT_FAILURE;
    }
</pre>

<p><a name="linkid2"></a></p>
<p>
<strong>Build meta data</strong></p>
The meta data for SFML library is automatically generated by the tool metagen.<br />
The header files are in folder include/cpgf/metadata/sfml<br />
The source files are in folder src/metadata/sfml<br />
<br />
To use the meta data, you need to link to all meta_sfml_*.cpp files in source folder.<br />
To auto register the meta data to global namespace, link to register_meta_sfml.cpp. SFML will be registered to &quot;sfml&quot; namespace.<br />
If you don't want to register the meta data to global, just call function registerMain_sfml with the desired meta define.<br />
You can read the code in register_meta_sfml.cpp to see how it works.<br />
<br />
<b>The only things that are not supported by meta data </b><br />
The only unsupported feature is that we can't use SFML Thread class in script binding (but we can use the meta data in C++).<br />
It's not useful though there is meta data.<br />
The reason is, currently both V8 Javascript and Lua binding doesn't support multiple threading yet.<br />
<br />







</div></body></html>
