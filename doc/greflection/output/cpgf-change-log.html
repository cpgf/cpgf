<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link rel="stylesheet" type="text/css" href="maintpl.css" />
<title>cpgf library changes log</title>
</head>
<body><div style="width:900px">





<a name="top"></a>






<h1>cpgf library changes log</h1>

<h3>2012-05-19 version 1.4.1 </h3>
<ul><li>	Added meta data for SFML library. All meta data is auto generated by the tool metagen.
</li><li>	Added sample code to demonstrate using SFML in Lua and V8 Javascript.
</li><li>	Rewrote the tool metagen in Java.
</li><li>	Enhanced metagen to be able to handle more complicated classes.
</li><li>	Added script runner to make executing script easier.
</li><li>	Now a normal function can be reflected as meta constructor. Useful to add extra constructors to classes.
</li><li>	Split CMakeLists.txt to several single files for better structure.
</li><li>	Added separated temporary folders to CMake build for MinGW and VC.
</li><li>	Changed build.config.txt do disable all non-core component, such as Lua, V8 binding, by default.
</li><li>	Fixed a few compile errors when reflecting certain kind of classes.
</li><li>	Fixed a bug that cause crash on bad pointer when reflecting nested classes.
</li><li>	Fixed a bug that crashes when base class is not reflected in script binding.
</li><li>	Fixed a bug in Lua binding that treated nil as 0, not nil will be converted to (void *)0.
</li></ul>
<h3>2012-04-22 version 1.4.0 </h3>
<ul><li>	Added serialization library.
</li><li>	Added meta traits for script binding and serialization.
</li><li>	The old meta converter of std::string is refactored to meta traits.
</li><li>	Now GVariant supports wide string.
</li><li>	Fixed a bug that annotation interface may point to NULL meta annotation.
</li><li>	Added sample and unit tests for serialization.
</li></ul>
<h3>2012-02-26 version 1.3.0 </h3>
<ul><li>	Added a tool written in Perl to generate meta data from Doxygen XML files automatically. (Basic features, only tested with Box2D)
</li><li>	Added meta data for Box2D physical engine.
</li><li>	Added a sample application for Box2D binding.
</li><li>	Now the OpenGL metadata can be compiled with GCC.
</li><li>	Added the OpenGL sample to cmake build file.
</li><li>	Added policy GMetaPolicyDestructorAbsent to allow meta data for class with private destructor.
</li><li>	Added class GDefineMetaInfo in gmetadefine.h to ease splitting meta data building to different source files. (Reduce using templates).
</li><li>	Added &quot;dangle&quot; and GDefineMetaDangle.
</li><li>	Added function getStdTypeInfo to GTypeInfo to get C++ type info.
</li><li>	Removed all virtual functions from meta templates to reduce code bloat (the unit test executable size is decreased by 10%).
</li><li>	Fixed a bug that _class prototype in GMetaDefine is wrong.
</li></ul>
<h3>2012-02-05 version 1.2.5 </h3>
<ul><li>	Support parameters default value for meta invokable. Method, constructor and object functor operator.
</li><li>	Refactored GMetaEnum to remove unnecessary code.
</li></ul>
<h3>2012-01-28 version 1.2.4 </h3>
<ul><li>	Added meta data for OpenGL, GLU, and GLUT.
</li><li>	Added binary data support (via IByteArray) in script binding.
</li><li>	Added a sample application to show how to use OpenGL in Lua and V8 Javascript.
</li><li>	Extended meta enum to accept a GVariant. Now meta enum can be not only integer, but also float, pointer, string, etc. Useful to reflect constants.
</li><li>	Fixed a bug in V8 binding that enum value can't be accessed through class.
</li></ul>
<h3>2012-01-24 version 1.2.3 </h3>
<ul><li>	Added script function wrapper. Now script can pass script function to C++ as method parameters.
</li><li>	Added script object wrapper. Now script can pass script object to C++ as method parameters.
</li><li>	Added meta data for STL iterator, vector, list and deque.
</li><li>	V8 binding -- Added object property enumerator. Now using for..in will enumerate all meta data in the object.
</li><li>	Added policy GMetaRuleGetterExplicitThis and GMetaRuleSetterExplicitThis for property getter and setter.
</li><li>	Added vtInterface in GVariant.
</li><li>	Improved code portability, now the library can compile in Intel C++ Compiler Composer XE and Embarcadero C++ Builder 2010.
</li><li>	Fixed a bug that in script binding, if a method returns GVariant, the result will be wrongly converted to an object.
</li></ul>	
<h3>2012-01-07 version 1.2.2 </h3>
<ul><li>	Added meta policy GMetaRuleExplicitThis.
</li><li>	Support binding object functor as meta method.
</li><li>	Support C++0x/C++11 rvalue reference in variant, callback and reflection.
</li><li>	Support return reference to fundamental from script function. (Pass by value instead of reference)
</li><li>	Renamed GDefineMetaClass::inner to GDefineMetaClass::declare.
</li><li>	Now the meta class created by GDefineMetaClass::declare can be freed automatically if it's not added to other class.
</li><li>	Refactored to make script binding less dependence on static variables.
</li><li>	Fixed a bug that can't cast a variant with fundamental to const T &amp;.
</li><li>	Fixed a bug that crash when return unbound nested class from member function in V8 binding.
</li></ul>
<h3>2011-12-18 version 1.2.1 </h3>
<ul><li>	Fixed the code compatibility. Now the library can be compiled by GCC 3.4.2. (Tested with MingW GCC).
</li><li>	Remove a type casting between void * and function pointer in gcallback. Now the library is more compatible with C++ standard.
</li><li>	Added xcode project generating in CMake build.
</li></ul>
<h3>2011-12-17 version 1.2.0 </h3>
<ul><li>	Added new meta data definition syntax. Now no macro is required to build the meta data.
</li><li>	Added bindAccessible in script binding.
</li><li>	Removed gmetareflect .h and .cpp, which was macro based meta data reflection.
</li></ul>
<h3>2011-12-10 version 1.1.0 </h3>
<ul><li>	Added Google V8 Javascript engine binding.
</li><li>	Added non-meta data support in script binding. The script can use arbitrary data type. (void *, T *, while T is not reflected).
</li><li>	Added second parameter &quot;void ** outInstance&quot; to function GScriptObject::getMethod
</li><li>	Refactored unit tests of script binding.
</li><li>	Added unit tests for script binding of Lua and V8.
</li><li>	Removed GScriptName and changed all name type to const char *
</li><li>	Fixed a memory bug that cause binding engine wrong references to GScriptConfig on the stack.
</li><li>	Fixed memory leak in GScopedInterface when call &quot;reset&quot; with same pointer.
</li><li>	Fixed a bug that can't access a member object's member in script binding. (a.b.c = 1 will cause a.b be copied, now a.b is referenced)
</li></ul>
<h3>2011-11-27 version 1.0.1 </h3>
<ul><li>	Refactored Lua binding, using better and faster algorithm to travel for data and methods.
</li><li>	Distinguish static and member data access in Lua binding.
</li><li>	Add: class GMetaClassTraveller in gmetaclasstraveller.h to ease iterating class hierarchy.
</li><li>	Add: function gdynamic_cast in gglobal.h for safe and fast dynamic cast.
</li><li>	Add: unit tests test_lua_basic.cpp, test_lua_operator.cpp, test_lua_hierarchy.cpp
</li><li>	Bug fix: binding Lua operators to wrong meta table.
</li><li>	Bug fix: Lua passes two parameters to __unm operator that cpgf doesn't handle correctly.
</li><li>	Bug fix: some exceptions raised by interface API were not detected in Lua binding. Now re-throw it to Lua.
</li><li>	Memory leak fix: leak when exception is raised during any Lua callback.
</li><li>	Remove: function getMethodList and getMethodListInHierarchy from GMetaClass and IMetaClass. They were replaced with better algorithm.
</li><li>	Remove: error output to stderr in Lua binding.
</li><li>	Add separate license file.
</li></ul>
<h3>2011-11-05 version 1.0.0 </h3>
<ul><li>	First release.
</li></ul>
<br />






</div></body></html>
